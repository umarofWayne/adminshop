{"ast":null,"code":"import _classCallCheck from \"/home/abbas/Documents/GitHub/react-reduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/abbas/Documents/GitHub/react-reduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/abbas/Documents/GitHub/react-reduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/abbas/Documents/GitHub/react-reduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/abbas/Documents/GitHub/react-reduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/abbas/Documents/GitHub/react-reduction/src/pages/FormPage.js\";\nimport React, { Component } from 'react';\nimport { Button, Card, CardImg, Col, Form, FormGroup, Input, Label, Modal, ModalBody, ModalFooter, ModalHeader, Row } from 'reactstrap';\nimport Page from 'components/Page';\nimport { deleteImages, getCategorys, getImages, getProduct, PostImages } from '../host/config';\n\nvar FormPage = /*#__PURE__*/function (_Component) {\n  _inherits(FormPage, _Component);\n\n  function FormPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FormPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FormPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      file: [],\n      data: [],\n      data1: [],\n      dataA: [],\n      modal: false,\n      dataAS: []\n    };\n\n    _this.postImage = function () {\n      var data = {\n        \"image\": _this.state.file,\n        \"product\": document.querySelector('#category').value\n      };\n      PostImages(data).then(function (res) {\n        _this.getImage();\n      });\n\n      _this.toggle1();\n    };\n\n    _this.deleteImage = function (id) {\n      deleteImages(id).then(function (res) {\n        _this.getImages();\n      });\n    };\n\n    _this.getImage = function () {\n      getImages().then(function (res) {\n        _this.setState({\n          data1: res.data\n        });\n\n        console.log(res.data);\n      });\n      console.log(_this.state.data1);\n    };\n\n    _this.toggle = function () {\n      _this.setState({\n        modal: true\n      });\n    };\n\n    _this.toggle1 = function () {\n      _this.setState({\n        modal: false\n      });\n    };\n\n    _this.getCategory = function () {\n      getProduct().then(function (res) {\n        //  this.state\n        _this.setState({\n          dataAS: res.data\n        });\n\n        console.log(res.data);\n      });\n      console.log(_this.state.data);\n    };\n\n    return _this;\n  }\n\n  _createClass(FormPage, [{\n    key: \"handleFile\",\n    value: function handleFile(e) {\n      var file1 = e.target.files[0];\n      console.log(file1);\n      this.setState({\n        file: file1\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        _this2.getCategory();\n\n        _this2.getImage();\n      }, 100);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(Page, {\n        title: \"Images\",\n        breadcrumbs: [{\n          name: 'Images',\n          active: true\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        className: \"mb-3\",\n        onClick: this.toggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }\n      }, \"create\"), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }\n      }, this.state.data1.map(function (item) {\n        return /*#__PURE__*/React.createElement(Col, {\n          lg: 6,\n          md: 12,\n          sm: 12,\n          xs: 12,\n          className: \"mb-3\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 8\n          }\n        }, /*#__PURE__*/React.createElement(Card, {\n          className: \"d-flex\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(CardImg, {\n          className: \"card-img-left w-25 ml-3 h-90\",\n          src: item.image,\n          style: {\n            width: 'auto',\n            height: 150\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: function onClick() {\n            return _this3.deleteImages();\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }\n        }, \"Delete\")));\n      })), /*#__PURE__*/React.createElement(Modal, {\n        isOpen: this.state.modal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ModalHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 19\n        }\n      }, \"Modal title\"), /*#__PURE__*/React.createElement(ModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"exampleImage\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 19\n        }\n      }, \"Image\"), /*#__PURE__*/React.createElement(Input, {\n        onInput: function onInput(e) {\n          return _this3.handleFile(e);\n        },\n        id: \"file\",\n        type: \"file\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"exampleSelect\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 19\n        }\n      }, \"Category\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"select\",\n        id: \"category\",\n        name: \"select\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 19\n        }\n      }, this.state.dataAS.map(function (item) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          value: item.slug,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 58\n          }\n        }, item.title);\n      }))))), /*#__PURE__*/React.createElement(ModalFooter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.postImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }\n      }, \"save\"), /*#__PURE__*/React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.toggle1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }\n      }, \"Cancel\"))));\n    }\n  }]);\n\n  return FormPage;\n}(Component);\n\nexport { FormPage as default };","map":{"version":3,"names":["React","Component","Button","Card","CardImg","Col","Form","FormGroup","Input","Label","Modal","ModalBody","ModalFooter","ModalHeader","Row","Page","deleteImages","getCategorys","getImages","getProduct","PostImages","FormPage","state","file","data","data1","dataA","modal","dataAS","postImage","document","querySelector","value","then","res","getImage","toggle1","deleteImage","id","setState","console","log","toggle","getCategory","e","file1","target","files","setTimeout","name","active","map","item","image","width","height","handleFile","slug","title"],"sources":["/home/abbas/Documents/GitHub/react-reduction/src/pages/FormPage.js"],"sourcesContent":["import React, { Component } from 'react'\nimport { Button, Card, CardImg, Col, Form, FormGroup, Input, Label, Modal, ModalBody, ModalFooter, ModalHeader, Row } from 'reactstrap';\nimport Page from 'components/Page';\nimport { deleteImages, getCategorys, getImages, getProduct, PostImages } from '../host/config';\n\n\nexport default class FormPage extends Component {\n\n\n\n  state={\n    file:[],\n    data:[],\n    data1:[],\n    dataA:[],\n    modal:false,\n    dataAS:[]\n\n    }\n\n\n    postImage=()=>{\n      var data={\n        \"image\": this.state.file,\n        \"product\":document.querySelector('#category').value\n      }\n      PostImages(data).then(res=>{\n        this.getImage()\n      })\n      this.toggle1()\n    }\n\n\n    deleteImage=(id)=>{\n      deleteImages(id).then(res=>{\n        this.getImages()\n      })\n    }\n\n    getImage=()=>{\n      getImages().then(res=>{\n    this.setState({data1:res.data})\n    console.log(res.data);\n      })  \n      console.log(this.state.data1);\n    }\n\n\n    toggle =() => {\n      this.setState({modal:true})\n    };\n    toggle1 = () => {\n      this.setState({modal:false})\n    };\n    handleFile(e) {\n      let file1 = e.target.files[0];\n    console.log(file1);\n    this.setState({file:file1})\n    \n    \n    }\n    getCategory=()=>{\n      getProduct().then(res=>{\n      //  this.state\n    this.setState({dataAS:res.data})\n    console.log(res.data);\n      })\n      console.log(this.state.data);\n    }\n    componentDidMount(){\n      setTimeout(() => {\n          this.getCategory()\n          this.getImage()\n      }, 100);\n    \n    }\n\n  render() {\n\n\n    return (\n      <Page title=\"Images\" breadcrumbs={[{ name: 'Images', active: true }]}>\n                <Button color=\"primary\" className=\"mb-3\" onClick={this.toggle}>create</Button>\n\n          <Row>\n            {this.state.data1.map(item=>{\nreturn <Col lg={6} md={12} sm={12} xs={12} className=\"mb-3\">\n          <Card className=\"d-flex\">\n            <CardImg className=\"card-img-left w-25 ml-3 h-90\" src={item.image} style={{ width: 'auto', height: 150 }} />\n            <button className='btn btn-danger' onClick={()=> this.deleteImages()}>Delete</button>\n          </Card>\n        </Col>})}</Row>\n\n\n        <Modal isOpen={this.state.modal}>\n                  <ModalHeader >Modal title</ModalHeader>\n                  <ModalBody>\n                  <Form>\n                <FormGroup>\n                  <Label for=\"exampleImage\">Image</Label>\n                  <Input onInput={(e)=>this.handleFile(e)} id=\"file\" type=\"file\" >\n                  </Input>\n                </FormGroup>\n                <FormGroup>\n                  <Label for=\"exampleSelect\">Category</Label>\n                  <Input type=\"select\" id=\"category\" name=\"select\">\n                   {this.state.dataAS.map(item=>{ return <option  value={item.slug}>{item.title}</option>})}\n                  </Input>\n                </FormGroup>\n                </Form>\n                  </ModalBody>\n                  <ModalFooter>\n                    <Button color=\"primary\" onClick={this.postImage}>\n                     save\n                    </Button>\n                    <Button color=\"secondary\" onClick={this.toggle1}>\n                      Cancel\n                    </Button>\n                  </ModalFooter>\n                </Modal>\n    </Page>\n    )\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}